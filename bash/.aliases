# vim: fdm=marker ft=sh
# Aliases
# @author matteo.muscella@usi.ch
#

# {{{ useful commands

alias :q='exit'
alias :r="source $HOME/.$(ps -p $$ | grep -ioe '\(bash\|zsh\)')rc"

function edit() {
    case "$1" in
        bash|zsh)
            vim $HOME/.$1rc
            ;;
        bspwm|sxhkd)
            vim $HOME/.config/$1/$1rc
            ;;
        xres)
            vim $HOME/.Xresources ; xrdb -merge $HOME/.Xresources
            ;;
        *)
            echo "error: invalid file: $1"
            ;;
    esac
}

case `uname -s` in
    "Darwin")
        COLORFLAG=' -G'
        ;;
    "Linux")
        COLORFLAG=' --color=auto'
        ;;
esac

alias l='ls -h'$COLORFLAG
alias la='ls -lha'$COLORFLAG
alias ls='ls'$COLORFLAG
alias ll='ls -lh'$COLORFLAG
alias lt='ls -ltr '$COLORFLAG         #  Sort by date, most recent last.
alias lc='ls -ltcr '$COLORFLAG        #  Sort by/show change time,most recent last.
alias lu='ls -ltur '$COLORFLAG        #  Sort by/show access time,most recent last.

alias ..='cd ..'

alias sb="source ~/.bashrc"
alias sc="source ~/.zshrc"

# list top ten largest files/directories in current directory
alias ducks='du -cks *|sort -rn|head -11'

alias extip='curl -s ifconfig.me'
alias iamhome='[ `curl -s ifconfig.me` = "2.235.177.223" ]'

alias ghclean='rm -f *.hi *.o $1'

# }}}
# {{{ working directories

alias pin="cd ~/Git/pintos/pintos-env/pintos/"
alias compilers="cd ~/Git/mattmusc-homework-lc2015/$([ -d "~/Git/mattmusc-homework-lc2015/" ] \
    && ls -t ~/Git/mattmusc-homework-lc2015/ | head -n 1)"
alias sem="cd ~/SpringSemester2015"
alias P="cd ~/Dropbox/Programming"
alias dots="cd ~/.dotfiles"
alias configs="cd $XDG_CONFIG_HOME"

# setup aliases for my SpringSemester2015 folder
for i in `ls -d ~/SpringSemester2015/*`
do 
    alias $(basename $i | sed 's/&//g' | tr '[:upper:]' '[:lower:]')="cd '$i'"
done

# }}}
# {{{ servers

alias atelier="ssh muscellm@atelier.inf.usi.ch"

# }}}
# {{{ guards

alias cp="cp -i"
alias mv="mv -i"
alias rm="rm -i"

# }}}
# {{{ mac os specific

alias update='brew cleanup && brew update && brew upgrade && brew cleanup && brew doctor'
alias addSpacer="defaults write com.apple.dock persistent-apps -array-add \
    '{tile-data={}; tile-type=\"spacer-tile\";}' ; killall Dock"

# show/hide hidden files in the finder
alias hideFiles='defaults write com.apple.finder AppleShowAllFiles NO; killall
Finder /System/Library/CoreServices/Finder.app'
alias showFiles='defaults write com.apple.finder AppleShowAllFiles YES; killall
Finder /System/Library/CoreServices/Finder.app'

# }}}
# {{{ git

alias gst='git status'
alias gss='git status -s'
alias gwc='git whatchanged -p --abbrev-commit --pretty=medium'

# }}}

